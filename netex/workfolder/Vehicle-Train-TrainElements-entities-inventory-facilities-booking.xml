<?xml version='1.0' encoding='UTF-8'?>


<!--

CONNECTING JOURNEY AND VEHICLE / TRAIN:


Vehicle(Type) and/or Train should be referenced from Journey:

  Vehicle/ServiceJourney -> either TrainRef or VehicleTypeRef


  TEMPORARY COMMENT:
     Should add VehicleRef, at lest in Dated[type]Journey

     Current implementation does not make much sence, as VehicleType disables the ability to link a (set of) journey(s) to an actual vehicle,
     e.g. implemented per Operator set of Vehicle and/or Train objects.
     This makes even less sense concidering the fact that a Train is a Vehicle.


Structuring of Vehicle and/or Train:

  Vehicle -> Train -> TrainComponents -> TrainElement (all Refs except <components> which are either TrainElements or TrainElementRefs)


Supplementary info:
* Vehicle has TrainRef + actualVehicleEquipments (has EuroClass Code but NO TransportMode/-Submode, as well as some physical info e.g. HasLiftOrRamp)
* Train has Capacities + Facilities (and physical type elements similar to Vehicle)
* TrainElement has Capacities + Facilities and Equipments



For swapping Train or TrainElement order/orientation, there are some alternatives (may be extended per Change Requests):

1) To swap VehicleOrientation (e.g. in Kristiansand) using <journeyParts> on the ServiceJourney

  ServiceJourney - parts - JourneyPart w/ (turned) VehicleOrientation "true" (forward) / "false" (reversed)

  PS: Having only ONE part is technically ok


2) Specify ONE ServiceJourney PER PART (each with its own TrainRef) and use CoupledJourney
  NB: <journeys> list does NOT have "order", i.e. must be derived from TimetabledPassingTime
  PS: Vehicle or VehicleType/Train should have ReversingDirection = "true"


3) TrainComponent having OperationalOrientation "forwards" / "backwards" / "unknown"
  OR TrainInCompundTrain having OperationalOrientation and/or ReversedOrientation "true" / "false"


TODO:
  ?

Q&A to CEN:
  ? Why no VehicleRef in Journey (relevant for DSJ) ? (Also relevant for futher questions below.)
  ? Why no OperationalDirectionRef?
      - Should this preferably be modelled with two Trains?
      - Or with a single JourneyPart w/ VehicleOrientation ?
    ALTERNATIVELY: Could preferrably the linking be Vehicle -> VehicleRef + OperationalOrientation ?
  =>
  If not possible to add/attribute Orientation, all derivations must be modelled
  + In practice all references must be to the specific variant, even when the only change is the direction/orientation


  * TrainNumber:
    - How do you properly assign a Vehicle and a TrainNumber?
    Possibly misunderstood, but:
      A) It is possible to add TrainNumbers to a Journey, and indirectly link/refer to a VehicleType
      B) Yet a TrainNumber cannot explicitly be linked to a specific Vehicle? (See also questions above.)
  * How to correctly assign/refer a specific Vehicle/VehicleType for a JourneyPart?
  ! Would like to avoid CoupledJourney, as this is normally per timetable one Journey but the VehicleOrientation is switched en route.

  * TrainInCompoundTrain:
    - OperationalOrientation =﻿"Orientation of the TRAIN." (i.e. implicitly orientation of the Train IN COMPOUND TRAIN !? )
       + Why does not the CompoundTrain itself have a Orientation (only its TrainsInCompoundTrain) ?
    vs.
    - ReversedOrientation
    => How to interpret when both values are defined? (Even worse if JourneyPart has VehicleOrientation)

  Would appreciate help on best practice modelling here, in particular for use in / referral from Journey, to reduce some potential complexity...


ALERT:
(see NeTex part 1 -﻿7.7.11.3.2)
VehicleType – Model Element
"A classification of public transport vehicles according to the vehicle scheduling requirements in
mode and capacity (e.g. standard bus, double-deck, etc.)."

BUT THERE SEEMINGLY IS _NO_ WAY TO EXPLICITLY DEFINE NEITHER TRANSPORT MODE NOR PHYSICAL/SPATIAL LAYOUT OF SAID CAPACITIES.
I.e. have found now way to define a Vehicle/VehicleType to be double-deck. Not even Train.


-->


<PublicationDelivery
  xmlns="http://www.netex.org.uk/netex"
  xmlns:gis="http://www.opengis.net/gml/3.2"
  xmlns:siri="http://www.siri.org.uk/siri"
  version="1.09:NO-NeTEx-networktimetable:1.3">


  <PublicationTimestamp>2019-08-19T00:31:39.669</PublicationTimestamp>
  <ParticipantRef>ENT</ParticipantRef>
  <Description>Materiell-eksempel</Description>
  <dataObjects>


    <VehicleScheduleFrame created="2019-08-17T00:50:24" version="1" id="NSB:VehicleScheduleFrame:4145997">
      <!-- placeholder -->
    </VehicleScheduleFrame>


    <GeneralFrame created="2019-08-17T00:50:24" version="1" id="NSB:GeneralFrame:4145997">
      <!-- placeholder -->
    </GeneralFrame>


    <ResourceFrame created="2019-08-17T00:50:24" version="1" id="NSB:ResourceFrame:4145997">
      <ValidBetween>
        <FromDate>2019-09-11T00:00:00</FromDate>
        <ToDate>2021-12-31T23:59:59</ToDate>
      </ValidBetween>

      <codespaces>
        <Codespace id="ent">
          <Xmlns>ENT</Xmlns>
          <XmlnsUrl>http://www.rutebanken.org/ns/ent</XmlnsUrl>
          <Description>Entur AS</Description>
        </Codespace>
        <Codespace id="nmr">
          <Xmlns>NMR</Xmlns>
          <XmlnsUrl>http://www.rutebanken.org/ns/nmr</XmlnsUrl>
          <Description>Nasjonalt materiellregister</Description>
        </Codespace>
        <Codespace id="nog">
          <Xmlns>NOG</Xmlns>
          <XmlnsUrl>http://www.rutebanken.org/ns/nog</XmlnsUrl>
          <Description>Nasjonalt Organisasjons-Register</Description>
        </Codespace>
      </codespaces>


      <typesOfValue>
        <TypeOfEquipment version="1" id="NMR:TypeOfEquipment:PremiumSeating">
          <PrivateCode>PremiumSeating</PrivateCode>
        </TypeOfEquipment>
        <TypeOfEquipment version="1" id="NMR:TypeOfEquipment:RegularSeating">
          <PrivateCode>RegularSeating</PrivateCode>
        </TypeOfEquipment>
      </typesOfValue>


      <!-- SeatingEquipment: NeTEx part 1 - ﻿8.4.8.7.3.5 SeatingEquipment – Model Element (page 776) -->


      <equipments>

        <!-- pervertering av firergruppe sete, premium klasse (Komfort?), v.h.a. derivedFromObjectRef -->
        <SeatingEquipment version="1" id="NMR:SeatingEquipment:Group1">

          <!-- TODO -->
          <!-- PassengerSeatRef = type ValidityParameter = Setenummer -->

          <TypeOfEquipmentRef version="1" ref="NMR:TypeOfEquipment:PremiumSeating"/>
          <Seats>4</Seats>
        </SeatingEquipment>
        <!-- gruppe -->
        <SeatingEquipment version="1" id="NMR:SeatingEquipment:1" derivedFromObjectRef="NMR:SeatingEquipment:Group1">
          <PublicCode>Sete 1</PublicCode>
        </SeatingEquipment>
        <SeatingEquipment version="1" id="NMR:SeatingEquipment:2" derivedFromObjectRef="NMR:SeatingEquipment:Group1">
          <PublicCode>Sete 2</PublicCode>
        </SeatingEquipment>
        <SeatingEquipment version="1" id="NMR:SeatingEquipment:3" derivedFromObjectRef="NMR:SeatingEquipment:Group1">
          <PublicCode>Sete 3</PublicCode>
        </SeatingEquipment>
        <SeatingEquipment version="1" id="NMR:SeatingEquipment:4" derivedFromObjectRef="NMR:SeatingEquipment:Group1">
          <PublicCode>Sete 4</PublicCode>
        </SeatingEquipment>

        <!-- ikke firergruppe, standard klasse -->
        <SeatingEquipment version="1" id="NMR:SeatingEquipment:5">
          <PublicCode>Sete 5</PublicCode>
          <TypeOfEquipmentRef version="1" ref="NMR:TypeOfEquipment:RegularSeating"/>
        </SeatingEquipment>
        <SeatingEquipment version="1" id="NMR:SeatingEquipment:6">
          <PublicCode>Sete 6</PublicCode>
          <TypeOfEquipmentRef version="1" ref="NMR:TypeOfEquipment:RegularSeating"/>
        </SeatingEquipment>
      </equipments>



      <vehicleTypes>

        <!-- Generic VehicleType -->
        <VehicleType version="1" id="NMR:VehicleType:Buss">
          <capacities>
            <PassengerCapacity id="NMR:PassengerCapacity:Premium">
              <FareClass>premiumClass</FareClass>
              <SeatingCapacity>50</SeatingCapacity>
            </PassengerCapacity>
            <PassengerCapacity id="NMR:PassengerCapacity:Standard">
              <FareClass>standardClass</FareClass>
              <SeatingCapacity>250</SeatingCapacity>
            </PassengerCapacity>
          </capacities>
        </VehicleType>


        <!-- Specific VehicleType: Train -->
        <Train version="1" id="NMR:Train:Flirt-1">
          <!-- consolidated capasity -->
          <capacities>
            <PassengerCapacityRef version="1" ref="NMR:PassengerCapacity:Premium"/>
            <PassengerCapacity id="NMR:PassengerCapacity:TrainStandard">
              <FareClass>standardClass</FareClass>
              <SeatingCapacity>250</SeatingCapacity>
            </PassengerCapacity>
          </capacities>

          <components>
            <TrainComponent version="1" id="NMR:TrainComponent:BMb74" order="1">
              <Label>BMb74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BMb74"/>
              <OperationalOrientation>forwards</OperationalOrientation>
            </TrainComponent>
            <TrainComponent version="1" id="NMR:TrainComponent:BPb74" order="2">
              <Label>BPb74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BPb74"/>
              <OperationalOrientation>forwards</OperationalOrientation>
            </TrainComponent>
            <TrainComponent version="1" id="NMR:TrainComponent:BCMU74" order="3">
              <Label>BCMU74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BCMU74"/>
              <OperationalOrientation>forwards</OperationalOrientation>
            </TrainComponent>
            <TrainComponent version="1" id="NMR:TrainComponent:BPa74" order="4">
              <Label>BPa74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BPa74"/>
              <OperationalOrientation>forwards</OperationalOrientation>
            </TrainComponent>
            <TrainComponent version="1" id="NMR:TrainComponent:BMa74" order="5">
              <Label>BMa74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BMa74"/>
              <OperationalOrientation>forwards</OperationalOrientation>
            </TrainComponent>
          </components>
        </Train>
        

        <!-- VARELAGER revision 0 -->
        <!-- Two level bus modelled as a train with two components. -->
        <Train version="1" id="VYT:Bus:DOVREBUSSEN">
          <components>
            <TrainComponent version="1" id="VYT:LogicalElement:DOVREBUSSEN-LOWER" order="1">
              <Label>DOVREBUSSEN-LOWER</Label>
              <TrainElementRef ref="VYT:TrainElement:SETRA-S431DT-LOWER" version="1"/>
            </TrainComponent>
            <TrainComponent version="1" id="VYT:LogicalElement:DOVREBUSSEN-UPPER" order="2">
              <Label>DOVREBUSSEN-UPPER</Label>
              <TrainElementRef ref="VYT:TrainElement:SETRA-S431DT-UPPER" version="1"/>
            </TrainComponent>
          </components>
        </Train>
        
        
        <!-- VARELAGER revision 1 -->
        <VehicleType id="VYT:VehicleType:1" version="1">    
          <Description>SETRA-S431DT-LOWER</Description>
          <PrivateCode>DOVREBUSSEN-LOWER</PrivateCode>
          <EuroClass>Fuel related UNECE based vehicle categories and/or EU defined passenger car categories, recommended usage in NeTEx not documented</EuroClass>
          <capacities>
            <PassengerCapacity id="VYT:PassengerCapacity:1" version="1">
              <FareClass>any</FareClass> <!-- DUMMY TEST DATA -->
            </PassengerCapacity>
          </capacities>
          <facilities>
            <ServiceFacilitySet id="VYT:ServiceFacilitySet" version="1">
              <accommodations>
                <Accommodation id="x" version="y">
                  <Name>dummy</Name>
                </Accommodation>
              </accommodations>
            </ServiceFacilitySet>
          </facilities>
        </VehicleType>
        
        <VehicleType id="VYT:VehicleType:2" version="1">
          <Description>SETRA-S431DT-UPPER</Description>
          <PrivateCode>DOVREBUSSEN-UPPER</PrivateCode>
        </VehicleType>
        



        <Train version="1" id="NMR:Train:Flirt-2">
          <components>
            <TrainComponent version="1" id="NMR:TrainComponent:BMa74" order="1">
              <Label>BMa74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BMa74"/>
              <OperationalOrientation>backwards</OperationalOrientation>
            </TrainComponent>
            <TrainComponent version="1" id="NMR:TrainComponent:BPa74" order="2">
              <Label>BPa74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BPa74"/>
              <OperationalOrientation>backwards</OperationalOrientation>
            </TrainComponent>
            <TrainComponent version="1" id="NMR:TrainComponent:BCMU74-v2" order="3">
              <Label>BCMU74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BCMU74"/>
              <OperationalOrientation>backwards</OperationalOrientation>
            </TrainComponent>
            <TrainComponent version="1" id="NMR:TrainComponent:BPb74" order="4">
              <Label>BPb74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BPb74"/>
              <OperationalOrientation>backwards</OperationalOrientation>
            </TrainComponent>
            <TrainComponent version="1" id="NMR:TrainComponent:BMb74" order="5">
              <Label>BMb74</Label>
              <TrainElementRef version="1" ref="NMR:TrainElement:BMb74"/>
              <OperationalOrientation>backwards</OperationalOrientation>
            </TrainComponent>
          </components>
        </Train>


        <CompoundTrain id="NMR:CompoundTrain:1" version="1">
          <components>
            <TrainInCompoundTrain id="NMR:TrainInCompoundTrain:1" version="1">
              <TrainRef ref="NMR:Train:Flirt-1" version="1"/>
              <OperationalOrientation>forwards</OperationalOrientation>
              <ReversedOrientation>false</ReversedOrientation>
            </TrainInCompoundTrain>
            <TrainInCompoundTrain id="NMR:TrainInCompoundTrain:2" version="1">
              <TrainRef ref="NMR:Train:Flirt-1" version="1"/>
              <OperationalOrientation>backwards</OperationalOrientation>
              <ReversedOrientation>true</ReversedOrientation>

              <!-- NB: Må definere ekstremt entydig i profil hva disse kombinasjonene skal bety,
                i dette tilfellet et train med alle TrainComponent: backwards, deretter hele Train har ReversedOrientation "true" -->

            </TrainInCompoundTrain>
          </components>
        </CompoundTrain>

      </vehicleTypes>



      <vehicles>

        <Vehicle id="NMR:Vehicle:1" version="1">
          <TrainRef ref="ref"></TrainRef>
          <!-- XSD:choice -->
          <!--
          <TrainRef ref="NMR:Train:Flirt" version="1"/>
          <VehicleTypeRef ref="ref"></VehicleTypeRef>
          -->
          <actualVehicleEquipments>
            <AssistanceServiceRef ref="ref"/>
          </actualVehicleEquipments>
        </Vehicle>

        <TrainElement version="1" id="NMR:TrainElement:1">
          <FareClasses>premiumClass standardClass</FareClasses>

          <!-- capasity per element-->
          <capacities>
            <PassengerCapacity id="NMR:PassengerCapacity:Premium">
              <FareClass>premiumClass</FareClass>
              <SeatingCapacity>50</SeatingCapacity>
            </PassengerCapacity>
            <PassengerCapacity id="NMR:PassengerCapacity:Standard">
              <FareClass>standardClass</FareClass>
              <SeatingCapacity>250</SeatingCapacity>
            </PassengerCapacity>
          </capacities>

          <!-- Accomodation related facilities: NeTEx part 3 - ﻿7.4.2.3 Fare Facility (page 111) -->

          <facilities>
            <ServiceFacilitySet id="NMR:ServiceFacilityList:1" version="1">
              <CateringFacilityList>foodVendingMachine beverageVendingMachine</CateringFacilityList>
              <AccommodationFacilityList>seating</AccommodationFacilityList>
              <!--accommodations>
                <Accommodation id="ENT:Accomodation:1" version="1">
                  <BerthFacility>both</BerthFacility>
                </Accommodation>
              </accommodations-->
            </ServiceFacilitySet>
          </facilities>

          <!-- TODO:

            PassengerAssignable / PassengerBookable
            Assignable
            Bookable

            Trengs en -PassengerSeating equipment- AMENITY / CONVENIENCE / COMPLIANCE (i.e. BOOKABLE feature) -->

          <equipments>

            <!-- gruppe -->
            <SeatingEquipmentRef version="1" ref="NMR:SeatingEquipment:Group1"/>
            <!-- vanlige seter -->
            <SeatingEquipmentRef version="1" ref="NMR:SeatingEquipment:5"/>
            <SeatingEquipmentRef version="1" ref="NMR:SeatingEquipment:6"/>
          </equipments>

        </TrainElement>



        <!-- Dummy TrainElements for references from TrainComponents -->
        <TrainElement version="1" id="NMR:TrainElement:BPa74">
          <Name>Flirt</Name>
        </TrainElement>
        <TrainElement version="1" id="NMR:TrainElement:BMb74">
          <Name>Flirt</Name>
        </TrainElement>
        <TrainElement version="1" id="NMR:TrainElement:BPb74">
          <Name>Flirt</Name>
        </TrainElement>
        <TrainElement version="1" id="NMR:TrainElement:BCMU74">
          <Name>Flirt</Name>
        </TrainElement>
        <TrainElement version="1" id="NMR:TrainElement:BMa74">
          <Name>Flirt</Name>
        </TrainElement>
        
        
        
        <!-- VARELAGER revision 0 (added for completeness / XSD validation) -->
        <!-- Dummy TrainElements for references from TrainComponents -->
        <TrainElement id="VYT:TrainElement:SETRA-S431DT-LOWER" version="1">
          <Name>DOVREBUSSEN-LOWER</Name>
          <Description>SETRA-S431DT-LOWER</Description>
        </TrainElement>
        <TrainElement id="VYT:TrainElement:SETRA-S431DT-UPPER" version="1">
          <Name>DOVREBUSSEN-UPPER</Name>
          <Description>SETRA-S431DT-UPPER</Description>
        </TrainElement>
        
        <!-- VARELAGER revision 1 -->
        <Vehicle id="VYT:Vehicle:1" version="1">
          <PrivateCode>DOVREBUSSEN</PrivateCode>
          <VehicleTypeRef ref="VYT:VehicleType:1" version="1"/>
        </Vehicle>
        
        

        <Vehicle version="1" id="NMR:Vehicle:Flirt">
          <OperatorRef ref="NOG:Operator:0"/>

          <VehicleTypeRef version="1" ref="NMR:VehicleType:Buss"/>
        </Vehicle>
      </vehicles>


      <groupsOfEntities>
        <GeneralGroupOfEntities id="ENT:GeneralGroupOfEntities:1" version="1">
          <members>
            <VersionOfObjectRef ref="test"/>
          </members>
        </GeneralGroupOfEntities>
      </groupsOfEntities>

    </ResourceFrame>





    <CompositeFrame created="2019-08-17T00:50:24.905" version="1" id="NSB:CompositeFrame:4145997">
      <validityConditions>
        <AvailabilityCondition version="1" id="NSB:AvailabilityCondition:4144408">
          <FromDate>2019-08-17T00:00:00</FromDate>
          <ToDate>2020-08-18T00:00:00</ToDate>
        </AvailabilityCondition>
      </validityConditions>
      <codespaces>
        <Codespace id="nsr">
          <Xmlns>NSR</Xmlns>
          <XmlnsUrl>http://www.rutebanken.org/ns/nsr</XmlnsUrl>
        </Codespace>
        <Codespace id="nsb">
          <Xmlns>NSB</Xmlns>
          <XmlnsUrl>http://www.rutebanken.org/ns/nsb</XmlnsUrl>
        </Codespace>
      </codespaces>
      <FrameDefaults>
        <DefaultLocale>
          <TimeZone>Europe/Oslo</TimeZone>
          <DefaultLanguage>no</DefaultLanguage>
        </DefaultLocale>
      </FrameDefaults>



      <frames>
        <SiteFrame version="1" id="NSR:SiteFrame:1">
          <stopPlaces>
            <StopPlace version="1" id="NSR:StopPlace:1">
              <Name>Demo</Name>
              <quays>
                <Quay version="1" id="NSR:Quay:1"/>
              </quays>
            </StopPlace>
          </stopPlaces>
        </SiteFrame>


        <ServiceCalendarFrame version="1" id="NSB:ServiceCalendarFrame:1">
          <dayTypes>
            <DayType version="1" id="NSB:DayType:2020-01-02"/>
            <DayType version="1" id="NSB:DayType:2020-01-03"/>
          </dayTypes>
          <operatingDays>
            <OperatingDay id="NSB:OperatingDay:2020-01-02" version="1">
              <CalendarDate>2020-01-02</CalendarDate>
            </OperatingDay>
            <OperatingDay id="NSB:OperatingDay:2020-01-03" version="1">
              <CalendarDate>2020-01-03</CalendarDate>
            </OperatingDay>
          </operatingDays>
          <dayTypeAssignments>
            <DayTypeAssignment id="NSB:DayTypeAssignment:2020-01-02" version="1" order="1">
              <Date>2020-01-02</Date>
              <DayTypeRef ref="NSB:DayType:2020-01-03" version="1"/>
            </DayTypeAssignment>
            <DayTypeAssignment id="NSB:DayTypeAssignment:2020-01-03" version="1" order="2">
              <Date>2020-01-03</Date>
              <DayTypeRef ref="NSB:DayType:2020-01-03" version="1"/>
              <isAvailable>false</isAvailable>
            </DayTypeAssignment>
          </dayTypeAssignments>
        </ServiceCalendarFrame>


        <ServiceFrame version="1" id="NSB:ServiceFrame:4145998">
          <routePoints>
            <RoutePoint version="1" id="NSB:RoutePoint:1">
              <projections>
                <PointProjection version="1" id="ENT:PointProjection:1">
                  <ProjectToPointRef version="1" ref="ENT:ScheduledStopPoint:1"/>
                </PointProjection>
              </projections>
            </RoutePoint>
            <RoutePoint version="1" id="NSB:RoutePoint:2">
              <projections>
                <PointProjection version="1" id="ENT:PointProjection:2">
                  <ProjectToPointRef version="1" ref="ENT:ScheduledStopPoint:1"/>
                </PointProjection>
              </projections>
            </RoutePoint>
          </routePoints>

          <routeLinks>
            <RouteLink version="1" id="ENT:RouteLink:1">
              <Distance>100</Distance>
              <FromPointRef ref="NSB:RoutePoint:1"/>
              <ToPointRef ref="NSB:RoutePoint:2"/>
            </RouteLink>
          </routeLinks>


          <routes>
            <Route version="1" id="NSB:Route:1-1105">
              <Name>Oslo S - Drammen stasjon</Name>
              <ShortName>Oslo S - Drammen stasjon</ShortName>
              <LineRef ref="NSB:Line:41" version="1"/>
              <pointsInSequence>
                <PointOnRoute order="1" version="1" id="NSB:PointOnRoute:4144409">
                  <RoutePointRef ref="NSB:RoutePoint:760010003"/>
                </PointOnRoute>
                <PointOnRoute order="2" version="1" id="NSB:PointOnRoute:4144410">
                  <RoutePointRef ref="NSB:RoutePoint:760140801"/>
                </PointOnRoute>
                <PointOnRoute order="3" version="1" id="NSB:PointOnRoute:4144411">
                  <RoutePointRef ref="NSB:RoutePoint:760141301"/>
                </PointOnRoute>
                <PointOnRoute order="4" version="1" id="NSB:PointOnRoute:4144412">
                  <RoutePointRef ref="NSB:RoutePoint:760142105"/>
                </PointOnRoute>
              </pointsInSequence>
            </Route>

            <Route version="1" id="ENT:Route:Demo">
              <Name>Demo</Name>
              <Description>description</Description>
              <PrivateCode>privatecode</PrivateCode>
              <LineRef ref="NSB:Line:41" version="1"/>
              <DirectionType>outbound</DirectionType>
              <pointsInSequence>
                <PointOnRoute version="1" id="ENT:PointOnRoute:1" order="1">
                  <RoutePointRef version="1" ref="NSB:RoutePoint:1"/>
                </PointOnRoute>
                <PointOnRoute version="1" id="ENT:PointOnRoute:2" order="2">
                  <RoutePointRef version="1" ref="NSB:RoutePoint:2"/>
                </PointOnRoute>
              </pointsInSequence>
            </Route>
          </routes>



          <lines>
            <Line version="1" id="NSB:Line:41">
              <Name>Bergensbanen</Name>
              <TransportMode>rail</TransportMode>
              <TransportSubmode>
                <RailSubmode>regionalRail</RailSubmode>
              </TransportSubmode>
              <PublicCode>41</PublicCode>
              <OperatorRef ref="NSB:Operator:503"/>
              <RepresentedByGroupRef ref="NSB:Network:1"/>
            </Line>
          </lines>

          <scheduledStopPoints>
            <ScheduledStopPoint version="1" id="ENT:ScheduledStopPoint:1">
            </ScheduledStopPoint>
            <ScheduledStopPoint version="1" id="ENT:ScheduledStopPoint:2"/>
          </scheduledStopPoints>

          <stopAssignments>
            <PassengerStopAssignment version="1" id="ENT:PassengerStopAssignment:1" order="1">
              <ScheduledStopPointRef version="1" ref="ENT:ScheduledStopPoint:1"/>
              <StopPlaceRef version="1" ref="NSR:StopPlace:1"/>
              <QuayRef version="1" ref="NSR:Quay:1"/>
            </PassengerStopAssignment>
            <PassengerStopAssignment version="1" id="ENT:PassengerStopAssignment:2" order="2">
              <ScheduledStopPointRef version="1" ref="ENT:ScheduledStopPoint:2"/>
              <StopPlaceRef version="1" ref="NSR:StopPlace:1"/>
              <QuayRef version="1" ref="NSR:Quay:1"/>
            </PassengerStopAssignment>
          </stopAssignments>

          <journeyPatterns>
            <JourneyPattern version="1" id="NSB:JourneyPattern:1-1105">
              <Name>Oslo S - Drammen stasjon</Name>
              <RouteRef ref="NSB:Route:1-1105" version="1"/>
              <pointsInSequence>
                <StopPointInJourneyPattern order="1" version="1"
                  id="NSB:StopPointInJourneyPattern:1-1105-1">
                  <ScheduledStopPointRef ref="NSB:ScheduledStopPoint:760010003"/>
                  <ForAlighting>false</ForAlighting>
                  <DestinationDisplayRef ref="NSB:DestinationDisplay:32"/>
                  <BookingArrangements>
                    <BookingContact>
                      <Phone>+47 407 05 070</Phone>
                      <Url>https://www.nettbuss.no</Url>
                    </BookingContact>
                    <BookingMethods>callOffice online</BookingMethods>
                    <BookingAccess>public</BookingAccess>
                    <BookWhen>advanceAndDayOfTravel</BookWhen>
                    <BuyWhen>onReservation</BuyWhen>
                    <MinimumBookingPeriod>PT10M</MinimumBookingPeriod>
                  </BookingArrangements>
                </StopPointInJourneyPattern>
                <StopPointInJourneyPattern order="2" version="1"
                  id="NSB:StopPointInJourneyPattern:1-1105-2">
                  <ScheduledStopPointRef ref="NSB:ScheduledStopPoint:760140801"/>
                  <ForAlighting>false</ForAlighting>
                </StopPointInJourneyPattern>
                <StopPointInJourneyPattern order="3" version="1"
                  id="NSB:StopPointInJourneyPattern:1-1105-3">
                  <ScheduledStopPointRef ref="NSB:ScheduledStopPoint:760141301"/>
                  <ForAlighting>false</ForAlighting>
                </StopPointInJourneyPattern>
                <StopPointInJourneyPattern order="4" version="1"
                  id="NSB:StopPointInJourneyPattern:1-1105-4">
                  <ScheduledStopPointRef ref="NSB:ScheduledStopPoint:760142105"/>
                  <ForBoarding>false</ForBoarding>
                </StopPointInJourneyPattern>
              </pointsInSequence>
              <linksInSequence>
                <ServiceLinkInJourneyPattern order="1" version="1"
                  id="NSB:ServiceLinkInJourneyPattern:4144971">
                  <ServiceLinkRef ref="NSB:ServiceLink:b50af5c2-867c-4d3f-a62b-69305d79088c"/>
                </ServiceLinkInJourneyPattern>
                <ServiceLinkInJourneyPattern order="2" version="1"
                  id="NSB:ServiceLinkInJourneyPattern:4144973">
                  <ServiceLinkRef ref="NSB:ServiceLink:29e6ec71-da1c-4414-9e7d-b8fde38c552d"/>
                </ServiceLinkInJourneyPattern>
                <ServiceLinkInJourneyPattern order="3" version="1"
                  id="NSB:ServiceLinkInJourneyPattern:4144975">
                  <ServiceLinkRef ref="NSB:ServiceLink:07f4d8af-86a3-4f24-935c-cb648e9f1b30"/>
                </ServiceLinkInJourneyPattern>
              </linksInSequence>
            </JourneyPattern>
          </journeyPatterns>
        </ServiceFrame>



        <TimetableFrame version="1" id="NSB:TimetableFrame:4145999">

          <vehicleJourneys>
            <VehicleJourney version="1" id="NSB:VehicleJourney:1-3922-61">
              <!-- placeholder -->
            </VehicleJourney>

            <ServiceJourney version="1" id="NSB:ServiceJourney:1-3922-61">
              <keyList>
                <KeyValue>
                  <Key>Aksjonskort</Key>
                  <Value>[M]bus,rail[/M][T]-30[/T]</Value>
                </KeyValue>

                <!-- Unik operativt tognummer (en delstrekning betjent av et transportmiddel) -->
                <KeyValue>
                  <Key>OTN</Key>
                  <Value>61001</Value>
                </KeyValue>

                <!-- Strekning / ISIRKnr? -->

              </keyList>

              <Name>Bergen</Name>

              <!-- Avgangsidentifikator -->
              <PrivateCode>61</PrivateCode>
              <TransportMode>rail</TransportMode>
              <TransportSubmode>
                <RailSubmode>regionalRail</RailSubmode>
              </TransportSubmode>
              <ServiceAlteration>cancellation</ServiceAlteration>
              <dayTypes>
                <DayTypeRef ref="NSB:DayType:29"/>
              </dayTypes>
              <JourneyPatternRef ref="NSB:JourneyPattern:1-1105" version="1"/>

              <!-- XSD:choice -->
              <!--
              <VehicleTypeRef ref=""></VehicleTypeRef>
              <TrainRef ref=""></TrainRef>
              -->

              <TrainRef ref="" ></TrainRef>

              <OperatorRef ref="NSB:Operator:503"/>
              <LineRef ref="NSB:Line:41" version="1"/>


              <!-- SKAL IKKE BRUKES ?
                (eksempel <trainNumbers> uansett flyttet til fritstaende liste lenger ned i TimetableFrame) -->

              <!-- Referanse til operativt transportnummer -->
              <!--trainNumbers>
                <TrainNumberRef ref="NSB:TrainNumber:1" version="1"/>
              </trainNumbers-->

              <passingTimes>
                <TimetabledPassingTime version="1" id="NSB:TimetabledPassingTime:686e98f9-e0ea-46c8-a208-e0ebb80d9315">
                  <StopPointInJourneyPatternRef ref="NSB:StopPointInJourneyPattern:1-1105-1" version="1"/>
                  <DepartureTime>08:25:00</DepartureTime>
                </TimetabledPassingTime>
                <TimetabledPassingTime version="1" id="NSB:TimetabledPassingTime:592a9671-027e-42b6-aae3-c5938212ed5e">
                  <StopPointInJourneyPatternRef ref="NSB:StopPointInJourneyPattern:1-1105-2" version="1"/>
                  <ArrivalTime>08:38:00</ArrivalTime>
                  <DepartureTime>08:39:00</DepartureTime>
                </TimetabledPassingTime>
                <TimetabledPassingTime version="1" id="NSB:TimetabledPassingTime:119b896c-1054-4db1-9776-276d48e44431">
                  <StopPointInJourneyPatternRef ref="NSB:StopPointInJourneyPattern:1-1105-3" version="1"/>
                  <ArrivalTime>08:45:00</ArrivalTime>
                  <DepartureTime>08:46:00</DepartureTime>
                </TimetabledPassingTime>
                <TimetabledPassingTime version="1" id="NSB:TimetabledPassingTime:da2cb9d1-3efb-4928-9402-8bd02b489a19">
                  <StopPointInJourneyPatternRef ref="NSB:StopPointInJourneyPattern:1-1105-4" version="1"/>
                  <ArrivalTime>08:58:00</ArrivalTime>
                </TimetabledPassingTime>
              </passingTimes>

              <parts>

                <!-- opprinnelig retning -->
                <JourneyPart id="NSB:JourneyPart:1" version="1">

                  <!-- TWO PROBLEMS with TrainNumber:
                    1) Cannot add/refer TrainNumber (also) for a Train object
                    2) There is no Train-to-TrainNumber assignment datatype, i.e. only Journey and JourneyPart can refer TrainNumber(s)
                  -->
                  <TrainNumberRef ref="ref"/>

                  <StartTime>08:46:00</StartTime>
                  <EndTime>12:46:00</EndTime>
                  <!-- PROBLEM with VehicleOrientation: Single ServiceJourney requires ENGINE TrainElement to be left out of the Train (i.e. EXCLUDE engine TrainComponent) -->
                  <VehicleOrientation>true</VehicleOrientation> <!-- true = forward -->
                </JourneyPart>

                <!-- snudd retning -->
                <JourneyPart id="NSB:JourneyPart:2" version="1">
                  <StartTime>12:46:00</StartTime>
                  <EndTime>16:46:00</EndTime>
                  <VehicleOrientation>false</VehicleOrientation> <!-- true = forward -->
                </JourneyPart>

              </parts>
            </ServiceJourney>


            <DatedServiceJourney version="1" id="NSB:DatedServiceJourney:1-3922-61-date-2020-12-31">
              <JourneyPatternRef ref="NSB:JourneyPattern:1-1105" version="1"/>

              <TrainRef ref="NMR:Train:Flirt-2"/> <!-- SJN just as a technical example due to defined within this file -->

              <parts>
                <JourneyPartRef ref="NSB:JourneyPart:1" version="1"/>
              </parts>

              <ServiceJourneyRef ref="NSB:ServiceJourney:1-3922-61"/>
              <OperatingDayRef ref="NSB:OperatingDay:2020-12-31"/>
            </DatedServiceJourney>


          </vehicleJourneys>


          <!--
            Not relevant(?)

            Assumes as not, as the use-case does not involve coupling JourneyParts into a (for a section) combined train
            (i.e. running multiple ServiceJourney parts as the same Train for a given section)
          -->
          <!--journeyPartCouples>
            <JourneyPartCouple order="">
              <StartTime></StartTime>
              <EndTime></EndTime>
              <FromStopPointRef ref=""></FromStopPointRef>
              <ToStopPointRef ref=""></ToStopPointRef>
              <MainPartRef ref=""></MainPartRef>
              <BlockRef ref=""></BlockRef>
            </JourneyPartCouple>
          </journeyPartCouples-->


          <trainNumbers>
            <TrainNumber id="NSB:TrainNumber:1" version="1">
              <ForProduction>NSB-TrainNumber-1</ForProduction>
            </TrainNumber>
          </trainNumbers>


          <!-- Alternativt med to separate ServiceJourneys (må definere to Trains med TrainElements i hver sin konfigurasjon/rekkefolge) -->
          <coupledJourneys>
            <CoupledJourney id="NSB:CoupledJourney:1" version="1">
              <journeys>
                <VehicleJourneyRef ref="NSB:ServiceJourney:1-3922-61" version="1" />
                <VehicleJourneyRef ref="NSB:ServiceJourney:1-3922-62-ikke-delt-opp-i-dette-eksempelet" />
                <DatedVehicleJourneyRef ref="kan-brukes-tilsvarende-som-vanlig-VehicleJourneyRef"/>
                <!-- strengt tatt burde det bli mulig med eksplisitt (Dated)ServiceJourneyRef her i tillegg,
                  for det blir mye mer tydelig hvis man senere skal referere til ikke-passasjertransport jf. VehicleScheduleFrame - blocks - TrainBlock - blockParts -->
              </journeys>
            </CoupledJourney>
          </coupledJourneys>


        </TimetableFrame>
      </frames>
    </CompositeFrame>
  </dataObjects>
</PublicationDelivery>
